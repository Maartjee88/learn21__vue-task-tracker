{"remainingRequest":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/babel-loader/lib/index.js!/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/src/views/Home.vue?vue&type=template&id=fae5bece","dependencies":[{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/src/views/Home.vue","mtime":1615473690804},{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgdlNob3cgYXMgX3ZTaG93LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrIH0gZnJvbSAidnVlIjsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9BZGRUYXNrID0gX3Jlc29sdmVDb21wb25lbnQoIkFkZFRhc2siKTsKCiAgdmFyIF9jb21wb25lbnRfVGFza3MgPSBfcmVzb2x2ZUNvbXBvbmVudCgiVGFza3MiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9BZGRUYXNrLCB7CiAgICBvbkFkZFRhc2s6ICRvcHRpb25zLmFkZFRhc2sKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25BZGRUYXNrIl0pLCBbW192U2hvdywgJHByb3BzLnNob3dBZGRUYXNrXV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9UYXNrcywgewogICAgb25Ub2dnbGVSZW1pbmRlcjogJG9wdGlvbnMudG9nZ2xlUmVtaW5kZXIsCiAgICBvbkRlbGV0ZVRhc2s6ICRvcHRpb25zLmRlbGV0ZVRhc2ssCiAgICB0YXNrczogJGRhdGEudGFza3MKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25Ub2dnbGVSZW1pbmRlciIsICJvbkRlbGV0ZVRhc2siLCAidGFza3MiXSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/src/views/Home.vue"],"names":[],"mappings":";;;;;;sEACI,YAAA,CAAoD,kBAApD,EAAoD;AAArB,IAAA,SAAQ,EAAE,QAAA,CAAA;AAAW,GAApD,EAAgD,IAAhD,EAAgD;AAAA;AAAhD,IAAgD,CAAA,WAAA,CAAhD,C,EAAgD,C,SAA/B,MAAA,CAAA,W,CAA+B,C,GAChD,YAAA,CAAwF,gBAAxF,EAAwF;AAAhF,IAAA,gBAAe,EAAE,QAAA,CAAA,cAA+D;AAA1C,IAAA,YAAW,EAAE,QAAA,CAAA,UAA6B;AAAhB,IAAA,KAAK,EAAE,KAAA,CAAA;AAAS,GAAxF,E,IAAA,E;;AAAA,I,6CAAA,C","sourcesContent":["<template>\n    <AddTask v-show=\"showAddTask\" @add-task=\"addTask\" />\n    <Tasks @toggle-reminder=\"toggleReminder\" v-on:delete-task=\"deleteTask\" :tasks=\"tasks\" />\n</template>\n\n<script>\n    import Tasks from '../components/Tasks'\n    import AddTask from '../components/AddTask'\n\n    export default {\n        name: \"Home\",\n        props: {\n            showAddTask: Boolean\n        },\n        components: {\n            Tasks,\n            AddTask,\n        },\n        data() {\n            return {\n                tasks: [],\n            }\n        },\n        methods: {\n            async addTask(task) {\n                const res = await fetch('api/tasks', {\n                    method: 'POST',\n                    headers: {\n                        'Content-type': 'application/json',\n                    },\n                    body: JSON.stringify(task)\n                })\n\n                const data = await res.json()\n                this.tasks = [...this.tasks, data]\n            },\n            async deleteTask(id) {\n                if (confirm('Are you sure?')) {\n                    const res = await fetch(`api/tasks/${id}`, {\n                        method: 'DELETE'\n                    })\n\n                    res.status === 200 ? (this.tasks = this.tasks.filter((task) => task.id !== id)) : alert(\n                        'Error deleting task')\n                }\n                this.tasks = this.tasks.filter((task) => task.id !== id)\n            },\n\n            async toggleReminder(id) {\n                const taskToToggle = await this.fetchTask(id)\n                const updTask = {\n                    ...taskToToggle,\n                    reminder: !taskToToggle.reminder\n                }\n\n                const res = await fetch(`api/tasks/${id}`, {\n                    method: 'PUT',\n                    headers: {\n                        'Content-type': 'application/json',\n                    },\n                    body: JSON.stringify(updTask),\n                })\n\n                const data = await res.json()\n\n                this.tasks = this.tasks.map((task) => task.id === id ? {\n                    ...task,\n                    reminder: data.reminder\n                } : task) /* Wait what?!  Opzoeken: ...task ! spread across?*/\n            },\n\n            async fetchTasks() {\n                const res = await fetch('api/tasks')\n\n                const data = await res.json()\n\n                return data\n            },\n\n            async fetchTask(id) {\n                const res = await fetch(`api/tasks/${id}`)\n\n                const data = await res.json()\n\n                return data\n            }\n        },\n\n        async created() {\n            this.tasks = await this.fetchTasks()\n        }\n    }\n</script>"],"sourceRoot":""}]}