{"remainingRequest":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/src/views/Home.vue?vue&type=template&id=fae5bece","dependencies":[{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/src/views/Home.vue","mtime":1615473690804},{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8QWRkVGFzayB2LXNob3c9InNob3dBZGRUYXNrIiBAYWRkLXRhc2s9ImFkZFRhc2siIC8+CiAgICA8VGFza3MgQHRvZ2dsZS1yZW1pbmRlcj0idG9nZ2xlUmVtaW5kZXIiIHYtb246ZGVsZXRlLXRhc2s9ImRlbGV0ZVRhc2siIDp0YXNrcz0idGFza3MiIC8+Cg=="},{"version":3,"sources":["/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/src/views/Home.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACnD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC","file":"/Users/maakra/Documents/GitHub/learn21__vue-task-tracker/task-tracker/src/views/Home.vue","sourceRoot":"","sourcesContent":["<template>\n    <AddTask v-show=\"showAddTask\" @add-task=\"addTask\" />\n    <Tasks @toggle-reminder=\"toggleReminder\" v-on:delete-task=\"deleteTask\" :tasks=\"tasks\" />\n</template>\n\n<script>\n    import Tasks from '../components/Tasks'\n    import AddTask from '../components/AddTask'\n\n    export default {\n        name: \"Home\",\n        props: {\n            showAddTask: Boolean\n        },\n        components: {\n            Tasks,\n            AddTask,\n        },\n        data() {\n            return {\n                tasks: [],\n            }\n        },\n        methods: {\n            async addTask(task) {\n                const res = await fetch('api/tasks', {\n                    method: 'POST',\n                    headers: {\n                        'Content-type': 'application/json',\n                    },\n                    body: JSON.stringify(task)\n                })\n\n                const data = await res.json()\n                this.tasks = [...this.tasks, data]\n            },\n            async deleteTask(id) {\n                if (confirm('Are you sure?')) {\n                    const res = await fetch(`api/tasks/${id}`, {\n                        method: 'DELETE'\n                    })\n\n                    res.status === 200 ? (this.tasks = this.tasks.filter((task) => task.id !== id)) : alert(\n                        'Error deleting task')\n                }\n                this.tasks = this.tasks.filter((task) => task.id !== id)\n            },\n\n            async toggleReminder(id) {\n                const taskToToggle = await this.fetchTask(id)\n                const updTask = {\n                    ...taskToToggle,\n                    reminder: !taskToToggle.reminder\n                }\n\n                const res = await fetch(`api/tasks/${id}`, {\n                    method: 'PUT',\n                    headers: {\n                        'Content-type': 'application/json',\n                    },\n                    body: JSON.stringify(updTask),\n                })\n\n                const data = await res.json()\n\n                this.tasks = this.tasks.map((task) => task.id === id ? {\n                    ...task,\n                    reminder: data.reminder\n                } : task) /* Wait what?!  Opzoeken: ...task ! spread across?*/\n            },\n\n            async fetchTasks() {\n                const res = await fetch('api/tasks')\n\n                const data = await res.json()\n\n                return data\n            },\n\n            async fetchTask(id) {\n                const res = await fetch(`api/tasks/${id}`)\n\n                const data = await res.json()\n\n                return data\n            }\n        },\n\n        async created() {\n            this.tasks = await this.fetchTasks()\n        }\n    }\n</script>"]}]}